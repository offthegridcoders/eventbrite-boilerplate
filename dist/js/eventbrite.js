function clearEvents(){EventsElm.empty()}function createListEventsMarkup(a){clearEvents();for(var e=$("<ul/>").addClass("main-events-list").appendTo(EventsElm),n=$("<li/>").addClass("single-event"),t=0;t<a.events.length;t++)$(e).append(n.clone().text(a.events[t].name.text))}function listEvents(){return clearEvents(),loadingElm.show(),eventsService.list(params).then(function(a){console.log(a),loadingElm.hide(),createListEventsMarkup(a),setPagination(a.pagination)})}function listEvent(){loadingElm.show(),eventsService.get(eventId).then(function(a){loadingElm.hide()})}var EB_URL="https://www.eventbriteapi.com/v3",EB_TOKEN="OUZ32QGNYHRKXKKDBMTA",eventsService={list:function(a,e){var n=EB_URL+"/events/search/?token="+EB_TOKEN;return a&&(n+="&"+$.param(a)),e&&(n+="&user.id="+e),byLocation&&(n+="&location.address="+byLocation),$.ajax({dataType:"json",url:n,type:"GET"})},get:function(a,e){var n=EB_URL+"/events/"+a+"/?token="+EB_TOKEN;return e&&(n+="&"+$.param(e)),$.ajax({dataType:"json",url:n,type:"GET"})},post:function(){return null},update:function(){return null},remove:function(){return null}},params={expand:"venue",sort_by:"date",page:1},userId="142688710831",eventId="17659525115",EventsElm=$("#eventListSection"),loadingElm=$("#loading"),SortByOption=$("#sortByOption"),NearLocation=$("#nearLocation"),SearchBtn=$("#searchBtn");if($.urlParam=function(a){var e=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},$.urlParam("page")&&(params.page=$.urlParam("page"),params.page<0&&(params.page=0,window.location.replace("/index.html?location.address="+NearLocation.val()+"&"+$.param(params)))),$.urlParam("sort_by")&&(SortByOption.val($.urlParam("sort_by")),params.sort_by=$.urlParam("sort_by")),$.urlParam("location.address")){var byLocation=$.urlParam("location.address");NearLocation.val(byLocation)}SortByOption.change(function(a){params.sort_by=a.target.value,window.location.replace("/index.html?"+$.param(params))}),SearchBtn.click(function(a){window.location.replace("/index.html?location.address="+NearLocation.val()+"&"+$.param(params))}),listEvents();