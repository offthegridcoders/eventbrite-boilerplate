function formatDate(e){var t=new Date(e),a=t.getDate(),n=t.getMonth();n+=1;var o=t.getFullYear();return n+"/"+a+"/"+o}function formatTime(e){console.log(e);var t="hh:mm a";return time=jQuery.format.date(e,t),console.log(time),time}function loadAllEvents(e){loadingEventsContainer.show(),$.ajax({dataType:"json",url:e,type:"GET",data:"",success:function(e){loadingEventsContainer.hide(),0==events.length?noEventsFoundContainer.show():(noEventsFoundContainer.hide(),createListMarkup(e.events))},error:function(e){loadingEventsContainer.hide(),noEventsFoundContainer.show()}})}function loadSingleEvent(e){$.ajax({dataType:"json",url:e,type:"GET",data:"",success:function(e){loadVenueInformation(e.venue_id,e)}})}function loadVenueInformation(e,t){var a="https://www.eventbriteapi.com/v3/venues/"+e+"/?token=C4C3HV4MMSZ3WJVUZSHZ";$.ajax({dataType:"json",url:a,type:"GET",data:"",success:function(e){createDetailMarkup(e,t)}})}function createListMarkup(e){var t=$("<ul/>").addClass("main-event-ul"),a=$("<li/>"),n=$("<h1/>"),o=$("<p/>"),s=$("<img/>"),d=$("<date/>"),r=$("<a/>"),l=$("<button/>");$.each(e,function(e,i){var c=a.clone();s.clone().attr("src",i.logo.url).addClass("logo").appendTo(c),r.clone().attr("href",i.url).attr("target","_new").addClass("button-href").append(l.clone().text("buy tickets").addClass("buy-tickets-button btn-default")).appendTo(c);var u=formatDate(i.start.local)+"  "+formatTime(i.start.local)+" - "+formatTime(i.end.local);d.clone().text(u).appendTo(c),n.clone().text(i.name.text).addClass("title").appendTo(c);var v='<a target="_new" href="http://maps.google.com?q='+i.venue.address.address_1+", "+i.venue.address.city+", "+i.venue.address.region+" "+i.venue.address.postal_code+'"><i class="fa fa-map-marker"></i></a> '+i.venue.address.address_1+", "+i.venue.address.city+", "+i.venue.address.region+" "+i.venue.address.postal_code;o.clone().html(v).addClass("venue-address").appendTo(c),r.clone().text("See Details").attr("href","/event/?id="+i.id).addClass("details").appendTo(c),c.appendTo(t)}),t.appendTo(listContainer).addClass("main-event-ul")}function createDetailMarkup(e,t){var a=$("<h2/>"),n=$("<p/>"),o=$("<a/>"),s=$("<date/>"),d=$("<button/>");$("#eventTitle").text(t.name.text);var r="<h2>Event Description</h2>"+t.description.html;$("#eventDescription").html(r);var l=$("#eventDetails");a.clone().text("Event Details").appendTo(l),s.clone().text(formatDate(t.start.local)).addClass("event-date").appendTo(l);var i=formatTime(t.start.local)+" - "+formatTime(t.end.local);n.clone().text(i).addClass("event-time").appendTo(l),n.clone().addClass("venue-name").text(e.name).appendTo(l);var c='<a target="_new" href="http://maps.google.com?q='+e.address.address_1+", "+e.address.city+", "+e.address.region+" "+e.address.postal_code+'"><i class="fa fa-map-marker"></i></a> '+e.address.address_1+", "+e.address.city+", "+e.address.region+" "+e.address.postal_code;n.clone().html(c).addClass("venue-address").appendTo(l),o.clone().attr("href",t.url).attr("target","_new").addClass("button-href").append(d.clone().text("buy tickets").addClass("buy-tickets-button btn-default")).appendTo(l),o.clone().attr("href","/events").addClass("back-to-events-a").html('<i class="fa fa-caret-left"></i> back to events').appendTo(l)}function initAllEvents(){loadingEventsContainer.hide(),noEventsFoundContainer.hide()}var listContainer=$("#events"),singleContainer=$("#event"),loadingEventsContainer=$("#loadingEvents"),noEventsFoundContainer=$("#noEventsFound");initAllEvents();